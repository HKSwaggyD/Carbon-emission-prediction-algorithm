# API文档

## 端点描述

- **目的**：计算电力成本，预测绿色证书价格，并生成包含购买绿色证书建议的报告。
- **URL**: `http://<host>:<port>/calculate`
- **方式**: `POST`

## 表头

- **Content-Type**: `application/json`

## 请求参数

| 参数名        | 类型    | 说明                    |
|--------------|---------|-------------------------|
| `地区`       | string  | 计算电费的区域。          |
| `水电`       | float   | 水电消耗量（千瓦时）。     |
| `生物质`     | float   | 生物质发电耗电量（千瓦时）。|
| `光伏`       | float   | 光伏发电耗电量（千瓦时）。  |
| `天然气`     | float   |天然气耗电量（千瓦时）。     |
| `火电`       | float   | 耗火电电量（千瓦时）。      |
| `风电`       | float   | 风电耗电量（千瓦时）。      |

## 请求示例

```json
{
  "地区": "湖南",
  "水电": 5000,
  "生物质": 3000,
  "光伏": 2000,
  "天然气": 4000,
  "火电": 10000,
  "风电": 2500
}
```

## 请求参数

| 参数名                       |  类型  | 说明                                     |
|-----------------------------|--------|------------------------------------------|
| `future_forecast`           | dict   | 对绿色证书价格进行预测的字典。              |
| `costs`                     | dict   | 包含每种电源计算成本的字典。                |
| `total_cost`                | dict   | 包括绿色证书在内的电费总成本。              |
| `advice_greem_certs_amount` | dict   | 关于购买绿色证书数量的建议。                |
| `advice_total_prices`       | dict   |绿色证书的总价。                            |
| `advice_after_discount `    | dict   | 绿色证书核算后的成本。                      |
| `advice_report `            | string | 包含报告的字符串，其中包含有关绿色证书的建议。|  

## 响应示例

```json
{
  "future_forecast": {
    "水电": 50,
    "生物质": 60,
    "光伏": 55,
    // 其他类型...
  },
  "costs": {
    "水电": 25000,
    "生物质": 18000,
    "光伏": 11000,
    // 其他类型...
  },
  "total_cost": 54000,
  "advice_greem_certs_amount": {
    "水电": 5,
    "生物质": 3,
    // 其他类型...
  },
  "advice_total_prices": {
    "水电": 250,
    "生物质": 180,
    // 其他类型...
  },
  "advice_after_discount": {
    "水电": 24750,
    "生物质": 17820,
    // 其他类型...
  },
  "advice_report": "详细报告和建议..."
}
```
## 说明

- 本文档基于文本文件中提供的 Python 代码的结构和内容，应适应 FastAPI 应用程序运行的实际主机和端口。请求和响应的示例值也基于代码的注释和逻辑，可以根据实际应用程序的数据和功能进行调整。
- 请求中的 地区 字段用于确定电费，并且必须与 各省电价信息.xlsx 文件中的某个区域匹配。
- 功耗值以 kWh 为单位，应为正浮点数。
- 该响应包含详细的计算和建议，可用于为有关绿色证书购买和能源消耗的决策提供信息。

